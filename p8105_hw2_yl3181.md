p8105\_hw2\_yl3181
================
Yuelin Long
September 28, 2018

Problem 1
---------

Read and Clean the data. Generate a summary of the data.

``` r
library(tidyverse)
```

    ## -- Attaching packages ------------------------------------------------------- tidyverse 1.2.1 --

    ## v ggplot2 3.0.0     v purrr   0.2.5
    ## v tibble  1.4.2     v dplyr   0.7.6
    ## v tidyr   0.8.1     v stringr 1.3.1
    ## v readr   1.1.1     v forcats 0.3.0

    ## -- Conflicts ---------------------------------------------------------- tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
nyc_subway = read_csv("NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
             janitor::clean_names() %>%
             select(line:entry,vending, ada) %>% 
             mutate(entry = recode(entry, "YES" = as.logical(1), "NO" = as.logical(0))) %>% 
             gather(key = route_num, value = route_val, starts_with("route")) %>%
             separate(route_num, into = c("extra_route","route"), sep = 5) %>%
             select(-extra_route) %>%
             filter(!is.na(route_val))
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

``` r
nyc_distinct_stations = distinct(nyc_subway, line, station_name, .keep_all = TRUE)
```

Summary:

-   Data name: nyc\_subway
-   Variables included: line, station\_name, station\_latitude, station\_longitude, entrance\_type, entry, vending, ada, route, route\_val
-   Data cleaning steps: clean names -&gt; select variables needed -&gt; change character variables to logical -&gt; gather route variables together -&gt; clean route\_num variable
-   Data dimension (rows x columns): 4270, 10

Answer to the questions:

-   Number of distinct stations: 465
-   Number of stations with ADA compliance: 84
-   Proportion of station entrance without vending: 0.5555556
-   Number of distinct stations serving A train: 60
-   Number of distinct stations serving A train with ADA compliance: 17
